<!DOCTYPE html>
<html lang="pt-br">

<head>
    <script src="./assets/js/color-modes.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>Home</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.bundle.min.js"
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/navbars/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/navbars.css" rel="stylesheet">
    <script src="./assets/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/header.js"></script>
</head>

<body>
    <div id="header"></div> <!-- Div where the header will be inserted -->

    <div class="container mt-4">
        <h2>Tabela de Pontuação</h2>
        <table id="pontuacao-table" class="table">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Usuário</th>
                    <th scope="col">Pontos</th>
                    <th scope="col">Qtd. Partidas</th>
                    <th scope="col">Vitórias</th>
                    <th scope="col">Empates</th>
                    <th scope="col">Derrotas</th>
                    <th scope="col">Gols Marcados</th>
                    <th scope="col">Gols Sofridos</th>
                    <th scope="col">Saldo de Gols</th>
                    <th scope="col">Ano</th>
                </tr>
            </thead>
            <tbody>
                <!-- Dados serão inseridos aqui dinamicamente -->
            </tbody>
        </table>

        <script>
            // URL da API
            const apiUrlmaisPontos = 'http://localhost:8080/api/historico/maisPontos';

            // Função para carregar os dados da API e popular a tabela
            async function carregarDados() {
                try {
                    const response = await fetch(apiUrlmaisPontos);
                    const data = await response.json();

                    const tableBody = document.querySelector('#pontuacao-table tbody');

                    // Limpa o corpo da tabela
                    tableBody.innerHTML = '';

                    // Itera sobre os dados e cria as linhas da tabela
                    data.forEach(item => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${item.id}</td>
                            <td>${item.usuario}</td>
                            <td>${item.pontos}</td>
                            <td>${item.qtdPartidas}</td>
                            <td>${item.vitoria}</td>
                            <td>${item.empate}</td>
                            <td>${item.derrotas}</td>
                            <td>${item.golsMarcados}</td>
                            <td>${item.golsSofridos}</td>
                            <td>${item.saldoGol}</td>
                            <td>${item.ano}</td>
                        `;
                        tableBody.appendChild(row);
                    });
                } catch (error) {
                    console.error('Erro ao carregar dados:', error);
                }
            }

            // Chama a função para carregar os dados ao carregar a página
            carregarDados();
        </script>

</body>

</html>